# Claude Code Rules — Agency Toolkit

## End-of-Session Checklist (MANDATORY)

Before completing any coding session, ALWAYS do the following in order:

### 1. Run Quality Checks
```bash
npm run lint
npm run build
```
If either fails, fix the issues before proceeding.

### 2. Update SESSION_LOG.md
Append a new entry at the top of SESSION_LOG.md (below the header) using this format:

```markdown
## [TODAY'S DATE] — [CURRENT TIME]

**Duration:** [approximate time spent]

### What I did
- (list completed tasks)

### What's next
- (immediate next steps for this project)

### Blockers
- (anything preventing progress, or "None")

### Cross-project notes
- (anything that affects other projects: shared component changes,
   pattern decisions, etc. Or "None")
```

### 3. Commit
Stage and commit all changes including the session log update.

## General Rules

- Read CLAUDE.md at the start of every session for project context
- Read the last SESSION_LOG.md entry to understand where we left off
- Do not leave the repo with failing lint or build
- Do not modify files outside this project's directory
- If you identify a pattern that should be shared across projects, note it in the cross-project section of the session log

## Tech Stack — Stay Within These Boundaries

- **Framework:** Next.js App Router (NOT Pages Router)
- **Database:** Supabase
- **Auth:** Clerk
- **Deployment:** Vercel
- **Styling:** Tailwind CSS + shadcn/ui components
- **Never suggest or use:** Firebase, NextAuth, Express, Pages Router, or any other tools outside this stack

## Guardrails — Ask Before Acting

- **No new packages** — Do not install new dependencies without asking first
- **No unsolicited refactors** — Do not refactor or rename existing files unless specifically asked
- **No schema changes** — Do not change the database schema without confirming first
- **Stay scoped** — Keep changes scoped to what was asked for; do not "improve" neighboring code
- **Flag, don't fix** — If something seems broken beyond the current task, flag it but do not fix it without asking

## Communication Style

- **Errors in plain language first** — When encountering an error, explain what's wrong in plain language before showing code
- **Explain tradeoffs** — If there are multiple ways to solve something, briefly explain the tradeoff before picking one
- **No unexplained jargon** — Do not assume familiarity with technical acronyms or jargon; explain them inline when they're relevant to the task
